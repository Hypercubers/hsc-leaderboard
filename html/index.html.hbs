{{#> layout}}
  {{#*inline "title"}}
    Hypercubing Leaderboards
  {{/inline}}
  {{#*inline "content"}}

    <div class="grid">
      <h1>All puzzles</h1>

      <p align="right">
        <a role="button" class="secondary" href="https://hypercubing.xyz/leaderboards/rules/">
          <span class="iconify" data-icon="mdi:format-list-numbered"></span>
          Rules
        </a>
        <a role="button" href="/upload-external">
          <span class="iconify" data-icon="mdi:plus-circle"></span>
          Submit a solve
        </a>
      </p>
    </div>


    <table>
      <thead>
        <tr>
          <th></th>
          <th>Puzzle</th>
          <th>Solver</th>
          <th style="text-align: right">Time</th>
          <th>Date</th>
          <th>Program</th>
          <th>Total solvers</th>
        </tr>
      </thead>
      {{#each table_rows}}
      <tbody class="hide-subcategories">
        {{#each this}}
        <tr class="
            {{#unless @first}}
              subcategory
            {{/unless}}
          ">
          <td>
            {{#if @first}}
            <input type="checkbox" class="expand-subcategories" />
            {{/if}}
          </td>
          <td>
            {{#if @first}}
            <span class="primary"><a href="{{this.puzzle_base_url}}">{{this.puzzle_base_name}}</a></span>
            <span class="subcategory"><a href="{{this.puzzle_cat_url}}">{{this.puzzle_base_name}}:
                {{this.flag_modifiers}}</a></span>
            {{else}}
            <a href="{{this.puzzle_cat_url}}">{{this.puzzle_base_name}}: {{this.flag_modifiers}}</a>
            {{/if}}
          </td>
          <td><a href="{{this.user_url}}">{{this.user_name}}</a></td>
          <td style="text-align: right"><a href="{{this.solve_url}}">
              {{#if this.solve.speed_cs}}
              {{{render_time this.solve.speed_cs}}}
              {{else}}
              -
              {{/if}}
            </a></td>
          <td>{{date this.solve.upload_time}}</td>
          <td>{{this.solve.program_version.program.abbreviation}}</td>
          <td>{{this.total_solvers}}</td>
        </tr>
        {{/each}}
      </tbody>
      {{/each}}
    </table>

  {{/inline}}
{{/layout}}
